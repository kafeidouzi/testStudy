(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["accountModules-login-login"],{"0827":function(t,e,i){"use strict";i.r(e);var n=i("ba13"),o=i("86bc");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("dca1");var s,r=i("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"1df0ec92",null,!1,n["a"],s);e["default"]=l.exports},"1dfa":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-button[data-v-1df0ec92]::after{content:none!important}',""]),t.exports=e},"5b9a":function(t,e,i){"use strict";var n=i("4ea4");i("c975"),i("a9e3"),i("d3b7"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=n(i("1da1")),a={name:"LsButton",props:{className:String,options:Object,text:{type:String,default:""},time:{type:Number,default:1500},isAsync:{type:Boolean,default:!1},size:{type:String,default:"default"},type:{type:String,default:"default"},plain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},formType:{type:String,default:""},openType:{type:String,default:""},hoverClass:{type:String,default:"button-hover"},hoverStartTime:{type:Number,default:20},hoverStayTime:{type:Number,default:70}},data:function(){return{allowClick:!0,disabledData:this.disabled,loadingData:!1}},computed:{optionstyle:function(){var t=[],e="color:".concat(this.options&&this.options.cl||"#333333");if(t.push(e),!this.plain){var i="background-color:".concat(this.options&&this.options.bc||"#ffffff");t.push(i)}var n="font-size:".concat(this.options&&this.options.fs||28,"rpx");t.push(n);var o="letter-spacing:".concat(this.options&&this.options.ls||0,"rpx");t.push(o);var a="line-height:".concat(this.options&&this.options.lh||"normal");t.push(a);var s="height: ".concat(this.options&&this.options.bh||88,"rpx");t.push(s);var r="";this.options&&this.options.bdSet?(r="border:".concat(this.options.bdSet),t.push(r)):this.options&&this.options.bd?(r="border:1px solid ".concat(this.options.bd),t.push(r)):(r="border:0",t.push(r));var l="";this.options&&this.options.br?(l=this.options.br.indexOf("%")>-1?"border-radius:".concat(this.options.br):"border-radius:".concat(this.options.br,"rpx"),t.push(l)):(l="border-radius:0",t.push(l));var c="padding-left:".concat(this.options&&this.options.pl||0,"rpx");t.push(c);var d="padding-right:".concat(this.options&&this.options.pr||0,"rpx");return t.push(d),t.toString().replace(/,/g,";")}},watch:{disabled:{handler:function(t,e){var i=this;setTimeout((function(){i.disabledData=i.disabled}),0)},deep:!0}},created:function(){},mounted:function(){this.$nextTick((function(){}))},methods:{clickButton:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.disabledData=!0,t.loading&&(t.loadingData=!0),!t.time){e.next=13;break}if(!t.isAsync){e.next=9;break}return e.next=6,t.clickBtnFn();case 6:setTimeout((function(){t.disabledData=!1,t.loadingData=!1}),t.time),e.next=11;break;case 9:setTimeout((function(){t.disabledData=!1,t.loadingData=!1}),t.time),t.clickBtnFn();case 11:e.next=23;break;case 13:if(!t.isAsync){e.next=20;break}return e.next=16,t.clickBtnFn();case 16:t.disabledData=!1,t.loadingData=!1,e.next=23;break;case 20:t.disabledData=!1,t.loadingData=!1,t.clickBtnFn();case 23:case"end":return e.stop()}}),e)})))()},clickBtnFn:function(){this.$emit("clickBtn")}}};e.default=a},"7d2f":function(t,e,i){"use strict";i.r(e);var n=i("b13c"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"84e6":function(t,e,i){"use strict";var n=i("ca45b"),o=i.n(n);o.a},"86bc":function(t,e,i){"use strict";i.r(e);var n=i("5b9a"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"9ff4":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"w750",style:{"--themescolor":t.themes.color,"--themesrgba05":t.themesRGBA05}},[i("v-uni-view",{staticClass:"login"},[i("v-uni-view",{staticClass:"login-logo"},[i("v-uni-view",{staticClass:"logo-img"},[i("v-uni-image",{staticClass:"img",attrs:{src:"/static/images/defalut-img/login-logo.png",alt:""}})],1)],1),i("v-uni-view",{staticClass:"login-nav"},[i("v-uni-text",{staticClass:"item",class:{cur:!t.loginMode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dealLoginMode(!1)}}},[t._v("手机快捷登录")]),i("v-uni-text",{staticClass:"item",class:{cur:t.loginMode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dealLoginMode(!0)}}},[t._v("账号密码登录")])],1),t.loginMode?i("v-uni-view",{staticClass:"login-box"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",placeholder:"手机号/用户账号/邮箱"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",password:!0,placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-uni-text",{staticClass:"code-txt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$navigateTo("/accountModules/forgetPsw/forgetPsw")}}},[t._v("忘记密码")])],1)],1):i("v-uni-view",{staticClass:"login-box"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"number",maxlength:11,placeholder:"请输入正确的手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"item code"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",maxlength:6,placeholder:"请输入短信验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-text",{staticClass:"code-txt",on:{click:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.getVerifyCode()}}},[t._v(t._s(0==t.countDown?"发送验证码":"重新发送"+t.countDown+"秒"))])],1)],1),i("ls-button",{attrs:{className:"but-main h-100r my-4 mx-2",loading:!0,text:"登录",options:{br:"8",ls:"20",fs:"30"}},on:{clickBtn:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}}),i("ls-button",{attrs:{className:"flex-center h-100r bg-white text-666 my-4 mx-2",text:"注册",time:500,options:{br:"8",ls:"20",fs:"30",bd:"#eee"}},on:{clickBtn:function(e){arguments[0]=e=t.$handleEvent(e),t.goRegister.apply(void 0,arguments)}}})],1),t.isWeixinH5?t._e():i("v-uni-view",{staticClass:"other-login"},[i("v-uni-view",{staticClass:"other-tit"},[i("v-uni-text",{staticClass:"tit-span"},[t._v("第三方账号登录")])],1),i("v-uni-view",{staticClass:"other-way"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-image",{staticClass:"h-100 w-100",attrs:{src:"/static/images/ext-qq.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.oauthLoginH5("qq")}}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-image",{staticClass:"h-100 w-100",attrs:{src:"/static/images/ext-sinaweibo.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.oauthLoginH5("sinaweibo")}}})],1)],1)],1)],1)},a=[]},a4b6:function(t,e,i){var n=i("1dfa");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("b84065e0",n,!0,{sourceMap:!1,shadowMode:!1})},b13c:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("5530")),a=i("2f62"),s=i("e198"),r=i("2d54"),l=n(i("0827")),c=n(i("7fd2")),d=i("c586"),u=n(i("05b0")),p={components:{"ls-button":l.default},data:function(){return{loginMode:!1,userName:"",password:"",phone:"",code:"",countDown:0,passportIdKey:"",isWeixinH5:(0,r.getUa)().isWeixin,hasProvider:!1,providerList:[]}},computed:(0,o.default)((0,o.default)({},(0,a.mapState)(["themes"])),{},{phoneRight:function(){return/^1[0-9][0-9]{9}$/.test(this.phone)},themesRGBA05:function(){return"rgba(".concat(this.themes.rgb.r,", ").concat(this.themes.rgb.g,",").concat(this.themes.rgb.b,",.5)")}}),onLoad:function(t){this.passportIdKey=s.passport.getPassportIdKey()},onUnload:function(){clearInterval(this.intervalId)},onShow:function(){(0,r.getUa)().isWeixin&&!s.passport.getPassportIdKey()&&(u.default.isOauth2?window.location.href=u.default.server+"/portalapp/thirdlogin/weixin/h5/authorize":window.location.href=u.default.server+"/thirdlogin/weixin/h5/authorize")},methods:{dealLoginMode:function(t){this.loginMode=t},login:function(){if(this.loginMode){if(!this.userName)return void uni.showToast({title:"请输入手机号/用户账号/昵称/邮箱",icon:"none",duration:2e3});if(!this.password)return void uni.showToast({title:"请输入正确密码",icon:"none",duration:2e3});uni.showLoading({mask:!0,title:"登录中...",success:function(t){setTimeout((function(){uni.hideLoading()}),5e3)}}),c.default.login(this.userName,this.password,this.passportIdKey).then((function(t){t.success?(s.passport.clearPassportIdKey(),uni.hideLoading(),uni.showToast({title:"登录成功",mask:!0,complete:function(){setTimeout((function(){r.pages.goBeforePage(1,["login"])}),1500)}})):uni.showToast({title:t.msg,icon:"none",duration:2e3})}))}else{if(!this.phone)return void uni.showToast({title:"请输入手机号码",icon:"none",duration:2e3});if(!this.phoneRight)return void uni.showToast({title:"请输入正确的手机号码",icon:"none",duration:2e3});if(!this.code)return void uni.showToast({title:"请输入验证码",icon:"none",duration:2e3});if(!/^\d{6}$/gi.test(this.code))return void uni.showToast({title:"请输入正确的验证码",icon:"none",duration:2e3});uni.showLoading({mask:!0,title:"登录中...",success:function(t){setTimeout((function(){uni.hideLoading()}),5e3)}}),c.default.quickLogin(this.phone,this.code,this.passportIdKey).then((function(t){t.success?(s.passport.clearPassportIdKey(),uni.hideLoading(),uni.showToast({title:"登录成功",mask:!0,complete:function(){setTimeout((function(){r.pages.goBeforePage(1,["login"])}),1500)}})):uni.showToast({title:t.msg,icon:"none",duration:2e3})}))}},goRegister:function(){this.$navigateTo("/accountModules/register/register")},getVerifyCode:(0,r.debounce)((function(){var t=this;!1!==this.phoneRight?this.countDown>0||(0,d.sendSMSCode)({mobile:this.phone,source:"smsLogin"}).then((function(e){1==e.status&&t.phoneRight&&(t.countDown=60,t.intervalId=setInterval((function(){t.countDown--,0==t.countDown&&clearInterval(t.intervalId)}),1e3))})):uni.showToast({title:"请输入正确的手机号码",icon:"none",duration:2e3})}),1e3),oauthLoginH5:(0,r.debounce)((function(t){var e="第三方登录",i="";i=u.default.isOauth2?u.default.server+"/portalapp/thirdlogin/"+t+"/h5/authorize":u.default.server+"/thirdlogin/"+t+"/h5/authorize",uni.navigateTo({url:"/pages/webview/webview?title=".concat(e,"&url=").concat(i)})}))}};e.default=p},ba13:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-button",{class:t.className,style:t.optionstyle,attrs:{size:t.size,type:t.type,plain:t.plain,disabled:t.disabledData,loading:t.loadingData,"form-type":t.formType,"open-type":t.openType,"hover-class":t.hoverClass,"hover-start-time":t.hoverStartTime,"hover-stay-time":t.hoverStayTime},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickButton.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"v-middle"},[t._v(t._s(t.text))])],1)},a=[]},ca45b:function(t,e,i){var n=i("f93f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("5207ba9c",n,!0,{sourceMap:!1,shadowMode:!1})},cb66:function(t,e,i){"use strict";i.r(e);var n=i("9ff4"),o=i("7d2f");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("84e6");var s,r=i("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"72b245b2",null,!1,n["a"],s);e["default"]=l.exports},dca1:function(t,e,i){"use strict";var n=i("a4b6"),o=i.n(n);o.a},f93f:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'/* 登录注册 */.login[data-v-72b245b2]{padding:10px}.login-logo[data-v-72b245b2]{height:64px;text-align:center;margin:20px 0 20px}.login-logo .logo-img[data-v-72b245b2]{display:block;width:45px;height:45px;margin:auto;font-size:0;background:var(--themescolor);border-radius:50%;box-shadow:1px 1px 5px var(--themesrgba05);padding:10px}.login-logo .logo-img .img[data-v-72b245b2]{width:44px;height:44px}.login-nav[data-v-72b245b2]{margin:10px 0;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex}.login-nav .item[data-v-72b245b2]{display:block;width:50%;text-align:center;font-size:14px;padding:10px 0;line-height:24px;position:relative;color:#666}.login-nav .item[data-v-72b245b2]:after{content:" ";display:block;width:36px;height:3px;background:#fff;position:absolute;left:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);transform:translateX(-50%);bottom:0;border-radius:3px}.login-nav .item.cur[data-v-72b245b2]{font-weight:600;color:#333}.login-nav .item.cur[data-v-72b245b2]:after{background:var(--themescolor)}.login-box[data-v-72b245b2]{padding:0 10px}.login-box .item[data-v-72b245b2]{height:50px;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;border-bottom:1px solid #f1f1f1}.login-box .item .item-input[data-v-72b245b2]{font-size:14px;font-family:arial;-webkit-flex:1;-ms-flex:1;-webkit-box-flex:1;-moz-box-flex:1;flex:1;height:100%}.login-box .item .code-img[data-v-72b245b2]{display:block;height:30px;font-size:0;margin-top:10px}.login-box .item .code-img img[data-v-72b245b2]{height:100%}.login-box .item .code-txt[data-v-72b245b2]{display:block;margin-top:10px;height:30px;line-height:30px;font-size:14px;color:#666;padding:0 10px;border-left:1px solid #f1f1f1}.login-box .tip[data-v-72b245b2]{color:#999;font-size:11px;padding:10px 0;line-height:18px;font-family:arial}.login-box .agreement[data-v-72b245b2]{font-size:14px;line-height:20px;margin-top:10px;color:#999}.login-box .agreement .agreement-a[data-v-72b245b2]{color:var(--themescolor)}.login-box .agreement uni-input[data-v-72b245b2]{vertical-align:top;margin-top:5px;margin-right:5px}.login .b-btn .btn-r[data-v-72b245b2]{margin-top:20px;margin-bottom:10px}.login .b-btn .btn-w[data-v-72b245b2]{margin-top:0}.other-login .other-tit[data-v-72b245b2]{position:relative;height:40px;font-size:14px;text-align:center}.other-login .other-tit[data-v-72b245b2]:after{content:" ";display:block;width:auto;height:1px;background:#f1f1f1;position:absolute;left:15%;right:15%;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);transform:translateY(-50%);z-index:-1}.other-login .other-tit .tit-span[data-v-72b245b2]{display:inline-block;background:#fff;padding:0 15px;color:#999;line-height:40px}.other-login .other-way[data-v-72b245b2]{margin-top:30px;text-align:center}.other-login .other-way .item[data-v-72b245b2]{display:inline-block;width:30px;height:30px;margin:0 10px;font-size:0}.other-login .other-way .item img[data-v-72b245b2]{width:100%;height:100%}\r\n/* end 登录注册 */uni-page-body[data-v-72b245b2]{background:#fff}.agree-wrapper[data-v-72b245b2]{font-family:PingFangSC-Regular;font-size:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?40?%;color:#333}.agreement[data-v-72b245b2]{color:#0c0000}.b-btn[data-v-72b245b2]{box-sizing:border-box}.span[data-v-72b245b2]{display:block;margin:15px auto;width:100%;height:48px;line-height:48px;font-size:15px;text-align:center;border-radius:3px}body.?%PAGE?%[data-v-72b245b2]{background:#fff}',""]),t.exports=e}}]);