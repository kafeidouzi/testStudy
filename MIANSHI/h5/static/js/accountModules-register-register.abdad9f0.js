(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["accountModules-register-register"],{"4c2b":function(e,t,i){"use strict";i.r(t);var n=i("69e8"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"62bc":function(e,t,i){"use strict";var n=i("ce84"),a=i.n(n);a.a},"69e8":function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("5530")),o=i("c586"),s=i("2f62"),r=i("2d54"),l=i("e4b6"),u={components:{},data:function(){return{userName:"",pwd:"",surePwd:"",phone:"",code:"",countDown:0,isUsername:!0,isPhone:!0,agreement:!1,realName:"",regAddress:"",parentUserName:""}},computed:(0,a.default)((0,a.default)({},(0,s.mapState)(["themes"])),{},{phoneRight:function(){return/^1[0-9][0-9]{9}$/.test(this.phone)},usernameRight:function(){return/^(?![_0-9])(?!.*?_$)[a-zA-Z0-9_]{4,16}$/.test(this.userName)},pswRegx:function(){return/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[\(\)])+$)([^(0-9a-zA-Z)]|[\(\)]|[a-z]|[A-Z]|[0-9]){6,20}$/.test(this.pwd)},pswRegx1:function(){return/^[0-9A-z`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]+$/.test(this.pwd)}}),watch:{},onLoad:function(e){e.parentUserName&&(this.parentUserName=e.parentUserName)},onUnload:function(){clearInterval(this.intervalId)},mounted:function(){},methods:{isUserNameExist:function(){var e=this;(0,l.checkUserNameExist)({userName:this.userName}).then((function(t){if(1==t.status){if(t.result)return uni.showToast({title:"该用户名已存在",icon:"none"}),void(e.isUsername=!0);e.isUsername=!1}else e.isUsername=!0}))},checkboxChange:function(e){this.agreement=!this.agreement},isPhoneExist:function(){var e=this;(0,l.checkPhoneExist)({phone:this.phone}).then((function(t){if(1==t.status){if(t.result)return uni.showToast({title:"该手机号已存在",icon:"none"}),void(e.isPhone=!0);e.isPhone=!1}else e.isPhone=!0}))},handleProxy:function(e){console.log(e)},checkPwd:function(){this.pwd.length&&this.surePwd.length&&this.pwd==this.surePwd||uni.showToast({title:"两次密码不一致",icon:"none"})},register:(0,r.debounce)((function(){if(this.userName)if(this.isUsername)uni.showToast({title:"该用户名已存在",icon:"none"});else if(0!=this.usernameRight)if(this.phone)if(this.realName)if(this.isPhone)uni.showToast({title:"该手机号已存在",icon:"none"});else if(0!=this.phoneRight)if(this.code)if(this.pwd)if(this.surePwd)if(this.pwd&&this.surePwd&&this.pswRegx&&this.pswRegx1)if(this.pwd.length&&this.surePwd.length&&this.pwd==this.surePwd)if(this.agreement){var e={userName:this.userName,mobile:this.phone,mobileCode:this.code,parentUserName:this.parentUserName,password:this.pwd,realName:this.realName,userAddr:this.regAddress};(0,l.userReg)(e).then((function(e){1==e.status&&uni.showToast({title:"注册成功",mask:!0,complete:function(){setTimeout((function(){uni.reLaunch({url:"/accountModules/login/login"})}),1500)}})}))}else uni.showToast({title:"请勾选《用户注册协议》",icon:"none"});else uni.showToast({title:"两次密码不一致",icon:"none"});else uni.showToast({title:"密码应为6-20位字母、数字和标点符号的组合",icon:"none"});else uni.showToast({title:"请再次输入密码",icon:"none"});else uni.showToast({title:"请输入密码",icon:"none"});else uni.showToast({title:"请输入验证码",icon:"none"});else uni.showToast({title:"请输入正确的手机号码",icon:"none"});else uni.showToast({title:"请输入真实姓名",icon:"none"});else uni.showToast({title:"请输入手机号",icon:"none"});else uni.showToast({title:"用户名必须是4~16位的字母、数字和_，不能以数字和_开头",icon:"none"});else uni.showToast({title:"请输入用户名",icon:"none"})})),getVerifyCode:function(){var e=this;if(0!=this.phoneRight)if(this.countDown>0);else{var t={mobile:this.phone,userName:this.userName,source:"reg"};(0,o.sendSMSCode)(t).then((function(t){1==t.status&&e.phone&&!e.isPhone&&e.userName&&!e.isUsername&&(e.countDown=60,e.intervalId=setInterval((function(){e.countDown--,0==e.countDown&&clearInterval(e.intervalId)}),1e3))}))}else uni.showToast({title:"请输入正确的手机号码",icon:"none"})},goAgreement:function(){uni.navigateTo({url:"/accountModules/register/agreement"})}}};t.default=u},9268:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"w750",style:{"--themescolor":e.themes.color}},[i("v-uni-view",{staticClass:"login"},[i("v-uni-view",{staticClass:"login-box"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",placeholder:"请输入用户名"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.isUserNameExist.apply(void 0,arguments)}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",placeholder:"请输入真实姓名"},model:{value:e.realName,callback:function(t){e.realName=t},expression:"realName"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"number",maxlength:11,placeholder:"请输入手机号"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.isPhoneExist.apply(void 0,arguments)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),i("v-uni-view",{staticClass:"item code"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",maxlength:6,placeholder:"请输入短信验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("v-uni-view",{staticClass:"code-txt",on:{click:function(t){t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.getVerifyCode()}}},[e._v(e._s(0==e.countDown?"发送验证码":"重新发送"+e.countDown+"秒"))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",password:!0,placeholder:"请输入密码",maxlength:"20"},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",password:!0,placeholder:"再次输入密码",maxlength:"20"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.checkPwd.apply(void 0,arguments)}},model:{value:e.surePwd,callback:function(t){e.surePwd=t},expression:"surePwd"}})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-input",{staticClass:"item-input",attrs:{type:"text",placeholder:"请输入注册地址"},model:{value:e.regAddress,callback:function(t){e.regAddress=t},expression:"regAddress"}})],1),i("v-uni-view",{staticClass:"tip"},[e._v("密码应为6-20位字母、数字和标点符号的组合")]),i("v-uni-view",{staticClass:"agreement"},[i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{staticStyle:{zoom:"1","vertical-align":"middle"},attrs:{value:"agreement"}})],1),e._v("已阅读并同意"),i("v-uni-text",{staticClass:"agreement-a",style:{color:e.themes.color},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goAgreement.apply(void 0,arguments)}}},[e._v("《用户注册协议》")])],1)],1),i("v-uni-view",{staticClass:"b-btn",on:{click:function(t){t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"btn-r span"},[e._v("注册并登录")])],1)],1)],1)},o=[]},bbbe:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'/* 登录注册 */.login[data-v-756208fa]{padding:10px}.login-logo[data-v-756208fa]{height:64px;text-align:center;margin:20px 0 20px}.login-logo .logo-img[data-v-756208fa]{display:block;width:45px;height:45px;margin:auto;font-size:0;background:var(--themescolor);border-radius:50%;box-shadow:1px 1px 5px var(--themesrgba05);padding:10px}.login-logo .logo-img .img[data-v-756208fa]{width:44px;height:44px}.login-nav[data-v-756208fa]{margin:10px 0;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex}.login-nav .item[data-v-756208fa]{display:block;width:50%;text-align:center;font-size:14px;padding:10px 0;line-height:24px;position:relative;color:#666}.login-nav .item[data-v-756208fa]:after{content:" ";display:block;width:36px;height:3px;background:#fff;position:absolute;left:50%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);transform:translateX(-50%);bottom:0;border-radius:3px}.login-nav .item.cur[data-v-756208fa]{font-weight:600;color:#333}.login-nav .item.cur[data-v-756208fa]:after{background:var(--themescolor)}.login-box[data-v-756208fa]{padding:0 10px}.login-box .item[data-v-756208fa]{height:50px;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;border-bottom:1px solid #f1f1f1}.login-box .item .item-input[data-v-756208fa]{font-size:14px;font-family:arial;-webkit-flex:1;-ms-flex:1;-webkit-box-flex:1;-moz-box-flex:1;flex:1;height:100%}.login-box .item .code-img[data-v-756208fa]{display:block;height:30px;font-size:0;margin-top:10px}.login-box .item .code-img img[data-v-756208fa]{height:100%}.login-box .item .code-txt[data-v-756208fa]{display:block;margin-top:10px;height:30px;line-height:30px;font-size:14px;color:#666;padding:0 10px;border-left:1px solid #f1f1f1}.login-box .tip[data-v-756208fa]{color:#999;font-size:11px;padding:10px 0;line-height:18px;font-family:arial}.login-box .agreement[data-v-756208fa]{font-size:14px;line-height:20px;margin-top:10px;color:#999}.login-box .agreement .agreement-a[data-v-756208fa]{color:var(--themescolor)}.login-box .agreement uni-input[data-v-756208fa]{vertical-align:top;margin-top:5px;margin-right:5px}.login .b-btn .btn-r[data-v-756208fa]{margin-top:20px;margin-bottom:10px}.login .b-btn .btn-w[data-v-756208fa]{margin-top:0}.other-login .other-tit[data-v-756208fa]{position:relative;height:40px;font-size:14px;text-align:center}.other-login .other-tit[data-v-756208fa]:after{content:" ";display:block;width:auto;height:1px;background:#f1f1f1;position:absolute;left:15%;right:15%;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);transform:translateY(-50%);z-index:-1}.other-login .other-tit .tit-span[data-v-756208fa]{display:inline-block;background:#fff;padding:0 15px;color:#999;line-height:40px}.other-login .other-way[data-v-756208fa]{margin-top:30px;text-align:center}.other-login .other-way .item[data-v-756208fa]{display:inline-block;width:30px;height:30px;margin:0 10px;font-size:0}.other-login .other-way .item img[data-v-756208fa]{width:100%;height:100%}\r\n/* end 登录注册 */uni-checkbox-group[data-v-756208fa]{display:inline-block!important}',""]),e.exports=t},ce84:function(e,t,i){var n=i("bbbe");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("d9c1ce7e",n,!0,{sourceMap:!1,shadowMode:!1})},e4b6:function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.userCompanyReg=t.isCompanyVer=t.registerAgreement=t.forgetPwd=t.userReg=t.checkPhoneExist=t.checkUserNameExist=void 0;var a=n(i("039e")),o=function(e){return a.default.post("/isUserNameExist",e)};t.checkUserNameExist=o;var s=function(e){return a.default.post("/isPhoneExist",e)};t.checkPhoneExist=s;var r=function(e){return a.default.post("/userReg",e)};t.userReg=r;var l=function(e){return a.default.post("/forgetPwd",e)};t.forgetPwd=l;var u=function(e){return a.default.post("/registerAgreement",e)};t.registerAgreement=u;var c=function(e){return a.default.post("/isCompanyVer",e)};t.isCompanyVer=c;var d=function(e){return a.default.post("/userCompanyReg",e)};t.userCompanyReg=d},e5e0:function(e,t,i){"use strict";i.r(t);var n=i("9268"),a=i("4c2b");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("62bc");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"756208fa",null,!1,n["a"],s);t["default"]=l.exports}}]);