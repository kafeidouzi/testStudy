(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["accountModules-wxLogin-wxLogin"],{"366a":function(n,o,e){"use strict";var t;e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return u})),e.d(o,"a",(function(){return t}));var i=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("v-uni-view",{staticClass:"w750"})},u=[]},"4f15":function(n,o,e){"use strict";e.r(o);var t=e("b1b0"),i=e.n(t);for(var u in t)"default"!==u&&function(n){e.d(o,n,(function(){return t[n]}))}(u);o["default"]=i.a},b1b0:function(n,o,e){"use strict";var t=e("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=t(e("5530")),u=e("2f62"),s=e("e198"),a=e("2d54"),c=t(e("4663")),l={data:function(){return{}},computed:(0,i.default)({},(0,u.mapState)(["themes"])),mounted:function(){this.login(null,null)},methods:{onGetUserInfo:function(n){var o=this,e=n.target.userInfo,t=n.target.encryptedData,i=n.target.iv;console.log("用户信息: %o",e),console.log("加密的用户数据: %o",t),console.log("解密向量: %o",i),t?o.login(t,i):uni.showModal({title:"登录提示",content:"您拒绝了授权，我们将拿不到您的头像、昵称等信息，确认继续？",success:function(n){n.confirm?o.login(null,null):n.cancel}})},login:function(n,o){uni.showLoading({mask:!0,title:"正在登录...",success:function(n){setTimeout((function(){uni.hideLoading()}),5e3)}}),uni.login({success:function(e){if(console.log("wx.login成功结果: %o",e),uni.showLoading({mask:!0,title:"正在登录..."}),e.code){var t={code:e.code,encryptedData:n,iv:o,platform:"MP"};console.log("success -> params",t),c.default.weixinMpLogin(t).then((function(n){if(1==n.status)console.log("======",n),s.appToken.setToken(n.result,"weixinMpLogin"),s.appToken.setOpenId(n.result.additionalInformation.open_id),a.pages.goBeforePage(1,["login"]),uni.showToast({title:"登录成功"});else if(2==n.status){var o=n.result;s.passport.setPassportIdKey(o),uni.redirectTo({url:"/accountModules/loginChoose/loginChoose"}),uni.hideLoading()}}))}else console.log("自动登录失败！"+e.errMsg),uni.switchTab({url:"/pages/index/index"}),uni.showToast({title:"自动登录失败, 请联系客服!",icon:"none",duration:2e3})},fail:function(n){console.log("wx.login失败: %o",n),uni.switchTab({url:"/pages/index/index"}),uni.showToast({title:"自动登录失败, 请联系客服!",icon:"none",duration:2e3})}})}}};o.default=l},d8ac:function(n,o,e){"use strict";e.r(o);var t=e("366a"),i=e("4f15");for(var u in i)"default"!==u&&function(n){e.d(o,n,(function(){return i[n]}))}(u);var s,a=e("f0c5"),c=Object(a["a"])(i["default"],t["b"],t["c"],!1,null,"79f0498c",null,!1,t["a"],s);o["default"]=c.exports}}]);