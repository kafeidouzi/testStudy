(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commonModules-applyAgreement-submitOperation"],{"0ebd":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.submit-opreation-wrapper[data-v-d7311600]{background:#f5f5f5;height:100vh}.submit-opreation-wrapper .content-wrapper[data-v-d7311600]{background:#fff}.submit-opreation-wrapper .submit-item[data-v-d7311600]{padding:%?0?% %?30?%}.top-title[data-v-d7311600]{padding:%?28?% %?0?% %?12?% %?30?%;border-top:%?2?% solid #d8d8d8;font-family:PingFangSC-Medium;font-size:%?32?%;color:#333;font-weight:700}.item-strip[data-v-d7311600]{min-height:%?96?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-family:PingFangSC-Regular;font-size:%?28?%;border-bottom:%?2?% solid #d8d8d8}.item-strip .strip-left[data-v-d7311600]{width:%?168?%;color:#666;margin-right:%?24?%}.item-strip .strip-right[data-v-d7311600]{color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;width:calc(100vw - %?252?%);word-wrap:break-word}.item-strip .red-color[data-v-d7311600]{color:#dc231e}.operation-strip[data-v-d7311600]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?112?%}.operation-strip .operation-left[data-v-d7311600]{margin:0;font-family:PingFangSC-Regular;color:#333;border:%?2?% solid #ccc;height:%?56?%;font-size:%?28?%;line-height:%?56?%;border-radius:%?28?%;text-align:center;background:#fff;position:static}.order-list-footer[data-v-d7311600]{position:fixed;left:%?0?%;bottom:%?0?%;width:100%}.order-list-footer .footer-up[data-v-d7311600]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;padding:%?0?% %?30?%;background-color:#fff;font-size:%?28?%;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order-list-footer .footer-up .up-left[data-v-d7311600]{font-family:PingFangSC-Regular;color:#333}.order-list-footer .footer-up .up-left .price[data-v-d7311600]{font-family:PingFangSC-Semibold;font-size:%?32?%;color:#dc231e}.order-list-footer .footer-up .up-right[data-v-d7311600]{font-family:PingFangSC-Regular;color:#333}.order-list-footer .footer-down[data-v-d7311600]{height:%?100?%;line-height:%?100?%;background:#dc231e;font-family:PingFangSC-Regular;font-size:%?28?%;color:#fff;text-align:center;border-radius:%?0?%}uni-button[data-v-d7311600]::after{content:"";width:0;height:0;position:relative;z-index:-20}',""]),e.exports=t},"128b":function(e,t,i){var r=i("0ebd");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("4f06").default;n("3bf81dad",r,!0,{sourceMap:!1,shadowMode:!1})},1292:function(e,t,i){"use strict";i.r(t);var r=i("7759"),n=i.n(r);for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},1730:function(e,t,i){"use strict";i.r(t);var r=i("6224"),n=i("1292");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("cf8e");var s,o=i("f0c5"),c=Object(o["a"])(n["default"],r["b"],r["c"],!1,null,"d7311600",null,!1,r["a"],s);t["default"]=c.exports},6224:function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"submit-opreation-wrapper"},[i("v-uni-view",{staticClass:"content-wrapper"},[i("v-uni-view",{staticClass:"top-title"},[e._v("签约甲方信息")]),i("v-uni-view",{staticClass:"submit-item"},[i("v-uni-view",{staticClass:"item-strip"},[i("v-uni-view",{staticClass:"strip-left"},[e._v("签约甲方名称")]),i("v-uni-view",{staticClass:"strip-right"},[i("v-uni-input",{attrs:{value:e.firstPartyName,placeholder:"请输入签约甲方名称"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.getFirstPartyName.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"item-strip"},[i("v-uni-view",{staticClass:"strip-left"},[e._v("联系人")]),i("v-uni-view",{staticClass:"strip-right"},[i("v-uni-input",{attrs:{value:e.contactsName,placeholder:"请输入联系人"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.getContactsName.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"item-strip"},[i("v-uni-view",{staticClass:"strip-left"},[e._v("订单数量")]),i("v-uni-view",{staticClass:"strip-right"},[e._v(e._s(e.num))])],1),i("v-uni-view",{staticClass:"item-strip"},[i("v-uni-view",{staticClass:"strip-left"},[e._v("总金额")]),i("v-uni-view",{staticClass:"strip-right red-color"},[e._v("￥"+e._s(e.price))])],1),i("v-uni-view",{staticClass:"item-strip"},[i("v-uni-view",{staticClass:"strip-left"},[e._v("接收邮箱")]),i("v-uni-view",{staticClass:"strip-right"},[i("v-uni-input",{attrs:{value:e.emailName,placeholder:"请输入邮箱"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.getEmailName.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"operation-strip"},[i("v-uni-button",{staticClass:"operation-left",attrs:{"form-type":"submit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewPdf()}}},[e._v("在线预览")])],1),i("v-uni-view",{staticClass:"order-list-footer"},[i("v-uni-button",{staticClass:"btn-large-red m-auto mb-3",attrs:{"form-type":"submit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sumbitApply.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)],1)},a=[]},"642a":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.submitSendAgain=t.submitSend=t.agreementList=t.previewOnline=t.getList=void 0;var n=r(i("039e")),a={isJson:!0},s=function(e){return n.default.get("/app/contract/signature/getApplyOrderList",e)};t.getList=s;var o=function(e){return n.default.post("/app/contract/signature/onlinePreviewContract",e,a)};t.previewOnline=o;var c=function(e){return n.default.post("/app/contract/signature/list",e)};t.agreementList=c;var u=function(e){return n.default.post("/app/contract/signature/sbumitContract",e,a)};t.submitSend=u;var l=function(e){return n.default.post("/app/contract/signature/againSendContract",e)};t.submitSendAgain=l},"6ae0":function(e,t,i){i("c975"),i("a9e3"),i("4d63"),i("ac1f"),i("25f0"),i("1276"),e.exports={error:"",check:function(e,t){for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(!e[t[i].name])return this.error=t[i].errorMsg,!1;switch(t[i].checkType){case"string":var r=new RegExp("^.{"+t[i].checkRule+"}$");if(console.log(r,r.test(e[t[i].name])),!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":r=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var n=t[i].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[i].name]>n[1]||e[t[i].name]<n[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":r=/^-?[1-9][0-9]?$/;if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;n=t[i].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[i].name]>n[1]||e[t[i].name]<n[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":r=/^-?[0-9][0-9]?.+[0-9]+$/;if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;n=t[i].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[i].name]>n[1]||e[t[i].name]<n[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":r=/^1[0-9]{10,10}$/;if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":r=/^[0-9]{6}$/;if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":r=new RegExp(t[i].checkRule);if(!r.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(null==e[t[i].name]||e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},7759:function(e,t,i){"use strict";var r=i("4ea4");i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(i("6ae0"));var n=i("642a"),a={data:function(){return{imgUrlHead:this.$imgUrlHead,type:null,num:0,price:0,codes:[],formData:{},fileId:"",firstPartyName:"",contactsName:"",emailName:""}},onLoad:function(e){this.num=e.num,this.price=e.price,this.codes=e.codes},methods:{getFirstPartyName:function(e){this.firstPartyName=e.detail.value},getContactsName:function(e){this.contactsName=e.detail.value},getEmailName:function(e){this.emailName=e.detail.value},previewPdf:function(){this.type=1,this.checkRes()&&this.onlinePreview()},checkRes:function(){if(""==this.firstPartyName)return uni.showToast({title:"请填写签约甲方名称",icon:"none"}),!1;if(""==this.contactsName)return uni.showToast({title:"请填写联系人",icon:"none"}),!1;var e=new RegExp("^.{1,20}$");if(!e.test(this.firstPartyName))return uni.showToast({title:"签约甲方名称长度为1~20位",icon:"none"}),!1;var t=new RegExp("^.{1,20}$");if(!t.test(this.contactsName))return uni.showToast({title:"联系人名称长度为1~20",icon:"none"}),!1;if(2==this.type){var i=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!i.test(this.emailName))return uni.showToast({title:"请填写正确格式的邮箱",icon:"none",duration:500}),!1}return!0},sumbitApply:function(){this.type=2,this.checkRes()&&this.sendEmail()},onlinePreview:function(){var e=this;uni.showLoading({title:"加载中",mask:!0});var t={orderCode:this.codes,owner:this.firstPartyName,contacts:this.contactsName};(0,n.previewOnline)(t).then((function(t){if(uni.hideLoading(),t.success){e.fileId=t.result;var i=e.imgUrlHead+t.result;uni.downloadFile({url:i,success:function(e){var t=e.tempFilePath;uni.openDocument({filePath:t,success:function(e){},fail:function(e){}})}})}else uni.showToast({title:t.message,icon:"none",duration:500})}))},sendEmail:function(){uni.showLoading({title:"请稍候",mask:!0});var e={orderCode:this.codes,owner:this.firstPartyName,contacts:this.contactsName,email:this.emailName,fileId:this.fileId};(0,n.submitSend)(e).then((function(e){uni.hideLoading(),e.success?uni.navigateTo({url:"/commonModules/applyAgreement/applyAgreement?tabIndex=2"}):uni.showToast({title:e.message,icon:"none",duration:1e3})}))}}};t.default=a},cf8e:function(e,t,i){"use strict";var r=i("128b"),n=i.n(r);n.a}}]);